---
permalink: "personal_knowledge_base"
category:  "misc"
keywords: 
    - "markdown"
    - "nanoc"
    - "pandoc"
---

这个项目原本是一个静态博客，使用Nanoc构建，但Nanoc功能远不止于此。希望这个静态站点成为一个个人知识仓库，记录学习工作中的思考，便于整理和查阅。

### Nanoc 用到的 GEM

- `pandoc-rubby`，用来使用 pandoc 工具渲染 markdown 文档，需要保证系统中装有 `pandoc`
- others

- - -

这个博客不仅仅是一个博客，更像是一个个人版的知识仓库。

之前曾经使用 evernote、onenote 这类笔记软件，来记录和整理自己学到的东西。我发现，经常把学到的东西整理并写下来，这个过程本身就是进一步学习，甚至在这个过程中还能发现新的问题。

因此，我希望这个博客系统尽量功能强大，更适合我自己的使用。

### Pandoc Markdown

我更希望像写书和写文章一样写博客文章，当我需要插入公式、表格和示意图的时候，可以很方便地写在markdown里面。

了解到 R markdown 提供了这些功能，而且面向的用户群体也主要是统计学的研究者，比较有学术特色，而 R markdown 使用 pandoc 作为渲染引擎。

### 文章组织方式和命名

作为一个 note taking app，很重要的功能就是对笔记里面的每一个 page 进行组织和导航。对于博客系统来说，特别是这种静态博客，这个问题有两个体现，一个是在我们编写文章的时候，在编辑器里面如何浏览（VSCode），另一个是我们发布了文章之后，在网页端如何进行导航。

编写文章的时候，往往使用 vscode、sublime、atom 这类的文本编辑器，比较适合 markdown 这种纯文本描述语言。这类的编辑器通常都提供了导航窗格，将文件按照文件夹的关系显示出来。因此，我们可以就按照这种方式组织。

文章和目录的名字可以使用中文，而中文显然不适合出现在 URL 中，所以我们要求作者手动在文章开头加上 permalink 字段，指定这篇文章的 URL 内容。

这样做有一个问题，那就是当一个文章使用了资源文件，这些文件需要放在和文章同名的目录下。但是我们这里，目录名也是中文，markdown 在引用资源的时候，使用的是相对路径，所以应该把资源目录的路径也改成对应的permalink。

#### 文章管理

直接用资源管理器浏览文章非常简单，但是有一个排序问题。在资源管理器里面，默认按照文件名的字典序排列，但是这与我们预期的顺序不一定一致。

Jekyll等静态网站生成器要求在文件名前面加上日期，这样博客文章就按照日期排列，非常合理。然而我们的这个blog更像一个在线知识仓库

#### 目录与分类

在VSCode这类编辑器里面，按照文件的字典序显示。但是有时我们希望的顺序不一样，因此需要在中文名称前面加上数字编号。加上编号的另一个好处，就是我们可以直接将中文去掉，只用编号作为URL中的部分。

文章有permalink属性，可以指定这个文章在url里面叫做什么名字，文章还可以指定category，表示类别的类别。但是注意，这个类别与文件所在的目录没有关系。与目录的关系体现在静态文件资源，当markdown里面引用了一张图片、或一个视频时，需要指定相对路径。如果直接把category当作URL的一部分，那么资源文件就必须也在这个目录下。

然而，目前的构建脚本不知道目录名和category之间的关系，